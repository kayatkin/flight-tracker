<!doctype html><html lang="en"><head><meta charset="utf-8"/><link rel="icon" href="/flight-tracker/favicon.ico"/><meta name="viewport" content="width=device-width,initial-scale=1"/><meta name="theme-color" content="#000000"/><meta name="description" content="Flight Tracker Mini App"/><title>Flight Tracker</title><script src="https://telegram.org/js/telegram-web-app.js"></script><style>body{font-family:Arial,sans-serif;padding:20px;max-width:600px;margin:0 auto}.success{color:green;font-weight:700}.error{color:red;font-weight:700}.warning{color:orange;font-weight:700}.info-box{background:#f5f5f5;padding:15px;border-radius:8px;margin:15px 0;border-left:4px solid #007bff}.test-result{margin:10px 0}</style><script defer="defer" src="/flight-tracker/static/js/main.cd19d4df.js"></script><link href="/flight-tracker/static/css/main.4d25056d.css" rel="stylesheet"></head><body><h1>ğŸ”§ Telegram Mini App Diagnostic</h1><div id="diagnostic-results"></div><script>function runDiagnostics(){const s=document.getElementById("diagnostic-results");let e="";if(e+='<div class="test-result">',window.Telegram?e+='<span class="success">âœ…</span> window.Telegram object found<br>':e+='<span class="error">âŒ</span> window.Telegram object NOT found<br>',window.Telegram?.WebApp){const s=window.Telegram.WebApp;if(e+='<span class="success">âœ…</span> Telegram.WebApp found<br>',e+=`<span class="success">ğŸ“±</span> Platform: ${s.platform||"unknown"}<br>`,e+=`<span class="success">ğŸ”¢</span> Version: ${s.version||"unknown"}<br>`,s.initData?e+='<span class="success">âœ…</span> initData: EXISTS<br>':e+='<span class="error">âŒ</span> initData: MISSING<br>',s.initDataUnsafe?.user){const a=s.initDataUnsafe.user;e+='<span class="success">âœ…</span> User Data: FOUND<br>',e+=`<span class="success">ğŸ‘¤</span> User ID: ${a.id}<br>`,e+=`<span class="success">ğŸ“›</span> First Name: ${a.first_name||"N/A"}<br>`,e+=`<span class="success">ğŸ”–</span> Username: ${a.username||"N/A"}<br>`}else e+='<span class="error">âŒ</span> User Data: NOT FOUND<br>';try{s.ready(),s.expand(),e+='<span class="success">âœ…</span> WebApp initialized successfully<br>'}catch(s){e+=`<span class="error">âŒ</span> WebApp init failed: ${s.message}<br>`}}else e+='<span class="error">âŒ</span> Telegram.WebApp NOT found<br>';e+='<div class="test-result">',e+="<strong>Alternative Telegram objects check:</strong><br>";let a=!1;["tg","TelegramWebApp","telegram"].forEach(s=>{window[s]&&(e+=`<span class="warning">âš ï¸</span> Found: window.${s}<br>`,a=!0)}),a||(e+='<span class="error">âŒ</span> No alternative Telegram objects found<br>'),e+='<div class="test-result">',window.parent!==window?(e+='<span class="success">âœ…</span> Running inside iframe (expected for Telegram)<br>',e+=`<span class="success">ğŸ”—</span> Parent origin: ${document.referrer||"unknown"}<br>`):e+='<span class="warning">âš ï¸</span> Running in top window (unexpected for Telegram)<br>',e+='<div class="test-result">';const n=new URLSearchParams(window.location.search);n.toString()?e+=`<span class="success">ğŸ”</span> URL Parameters: ${n.toString()}<br>`:e+='<span class="warning">âš ï¸</span> No URL parameters<br>',e+='<div class="info-box">',e+="<h3>ğŸ“Š Diagnostic Summary</h3>",window.Telegram?.WebApp?.initDataUnsafe?.user?e+='<p class="success">âœ… FULLY WORKING: Telegram Mini App is properly loaded with user data</p>':window.Telegram?.WebApp?e+='<p class="warning">âš ï¸ PARTIAL: Telegram WebApp found but missing user data</p>':window.Telegram?e+='<p class="warning">âš ï¸ LIMITED: Telegram object found but WebApp missing</p>':e+='<p class="error">âŒ BROKEN: Telegram environment not detected</p>',e+="</div>",s.innerHTML=e,console.log("=== TELEGRAM DIAGNOSTICS ==="),console.log("Telegram:",window.Telegram),console.log("WebApp:",window.Telegram?.WebApp),console.log("initData:",window.Telegram?.WebApp?.initData),console.log("User:",window.Telegram?.WebApp?.initDataUnsafe?.user),console.log("In iframe:",window.parent!==window),console.log("Referrer:",document.referrer)}setTimeout(runDiagnostics,100),setTimeout(runDiagnostics,1e3),setTimeout(runDiagnostics,3e3)</script></body></html>